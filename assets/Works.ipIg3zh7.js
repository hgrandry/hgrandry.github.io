import{i as ge}from"./lifecycle.DIFoE0P3.js";import{x as xe,p as le,F as ne,g as t,f as U,t as R,a as oe,m as Y,s as I,c as b,r as h,E as l,B as fe,C as pe,D as de,G as F}from"./runtime.D0cKiUdn.js";import{a as m,t as w,e as ce}from"./template.xghE3FVS.js";import{i as L,s as O,e as se,a as re}from"./attributes.BjNm56FB.js";import{p as S,a as _e,b as ke}from"./props.BB-HR_cq.js";import{o as me,a as ue,t as W,s as ye,i as we}from"./index-client.DXXyS-C5.js";import{e as G,s as N}from"./render.DflygPmv.js";import{s as Ee}from"./slot.DciUBXO5.js";import{b as ve}from"./this.BOE1u79u.js";/* empty css                       */import{e as Z}from"./work.CnoRmGAu.js";import"./proxy.DjauZPiP.js";import"./utils.DwVOqfoQ.js";import"./index.TyNKgPmN.js";function he(E){return function(...d){var i=d[0];return i.stopPropagation(),E?.apply(this,d)}}function be(E){return function(...d){var i=d[0];return i.preventDefault(),E?.apply(this,d)}}function ae(E,d){var i=E.$$events?.[d.type],n=xe(i)?i.slice():i==null?[]:[i];for(var z of n)z.call(this,d)}var ze=w('<div class="backdrop svelte-ino8zy" aria-hidden="true"></div>'),Me=w('<div class="placeholder svelte-ino8zy"></div>'),Ae=w('<!> <!> <div role="button" tabindex="0"><!></div>',1);function We(E,d){le(d,!1);let i=S(d,"isExpanded",12,!1),n=S(d,"isAnimating",12,!1),z=S(d,"isMaximizing",12,!1),g=S(d,"isMinimizing",12,!1),q=S(d,"class_name",8),e=Y(),M=Y(null),A=Y();function V(){const a=window.innerWidth,o=window.innerHeight;return{width:Math.min(a*.9,1200),height:Math.min(o*.95,1e3),left:a/2,top:o/2}}function x(a,o,s,_){return function(f){if(f===0||f===1)return f;let p=f;for(let C=0;C<4;C++){const c=p,k=(1-c)**3*0+3*(1-c)**2*c*a+3*(1-c)*c**2*s+c**3*1,y=-3*(1-c)**2*0+3*(1-c)**2*a+6*(1-c)*c*(s-a)+3*c**2*(1-s);p=c-(k-f)/y}return(1-p)**3*0+3*(1-p)**2*p*o+3*(1-p)*p**2*_+p**3*1}}const K=x(.65,.05,.36,1);function B(a){z(a),g(!a);const o=a?t(e).getBoundingClientRect():t(A).getBoundingClientRect();U(M,o);const s=V();let _=performance.now(),f;l(e,t(e).style.position="fixed"),l(e,t(e).style.zIndex="2000"),l(e,t(e).style.width=a?`${o.width}px`:`${s.width}px`),l(e,t(e).style.height=a?`${o.height}px`:`${s.height}px`);function p(C){const c=C-_,k=Math.min(c/500,1),y=K(k),J=a?o:t(A).getBoundingClientRect();if(a){const D=u(J.top,s.top-s.height/2,y),ee=u(J.left,s.left-s.width/2,y),te=u(o.width,s.width,y),ie=u(o.height,s.height,y);l(e,t(e).style.top=`${D}px`),l(e,t(e).style.left=`${ee}px`),l(e,t(e).style.width=`${te}px`),l(e,t(e).style.height=`${ie}px`),l(e,t(e).style.transform="none")}else{const D=u(s.top-s.height/2,J.top,y),ee=u(s.left-s.width/2,J.left,y),te=u(s.width,J.width,y),ie=u(s.height,J.height,y);l(e,t(e).style.top=`${D}px`),l(e,t(e).style.left=`${ee}px`),l(e,t(e).style.width=`${te}px`),l(e,t(e).style.height=`${ie}px`),l(e,t(e).style.transform="none")}if(k<1)f=requestAnimationFrame(p);else if(i())n(!1);else{const D=t(A).getBoundingClientRect();l(e,t(e).style.position="fixed"),l(e,t(e).style.top=`${D.top}px`),l(e,t(e).style.left=`${D.left}px`),l(e,t(e).style.width=`${D.width}px`),l(e,t(e).style.height=`${D.height}px`),l(e,t(e).style.margin="0"),requestAnimationFrame(()=>{l(e,t(e).style.position="relative"),l(e,t(e).style.top="0"),l(e,t(e).style.left="0"),l(e,t(e).style.transform=""),l(e,t(e).style.margin=""),l(e,t(e).style.zIndex=""),l(e,t(e).style.width=""),l(e,t(e).style.height=""),n(!1)})}}return f=requestAnimationFrame(p),()=>{f&&cancelAnimationFrame(f)}}function u(a,o,s){return a*(1-s)+o*s}me(()=>{const a=o=>{i()&&!n()&&H()};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}});function H(){n()||!t(e)||(n(!0),i(!i()),B(i()))}function X(a){n()||!t(e)||i()===a||(n(!0),i(a),B(i()))}ue(()=>{i()&&document.documentElement.classList.remove("no-scroll")}),ge();var j=Ae(),T=ne(j);{var P=a=>{var o=ze();R(()=>W(o,"fadeOut",!i()&&n())),G("click",o,he(()=>H())),G("wheel",o,be(function(s){ae.call(this,d,s)})),m(a,o)};L(T,a=>{(i()||n())&&a(P)})}var Q=I(T,2);{var $=a=>{var o=Me();ve(o,s=>U(A,s),()=>t(A)),R(()=>O(o,"style",`width: ${t(M)?.width??""}px; height: ${t(M)?.height??""}px;`)),m(a,o)};L(Q,a=>{(n()||i())&&a($)})}var r=I(Q,2),v=b(r);Ee(v,d,"default",{get isExpanded(){return i()},get isAnimating(){return n()},get isMaximizing(){return z()},get isMinimizing(){return g()},toggleExpand:H,setExpanded:X}),h(r),ve(r,a=>U(e,a),()=>t(e)),R(()=>{ye(r,`expand-container ${q()??""} svelte-ino8zy`),O(r,"aria-expanded",i()),W(r,"expanded",i()),W(r,"minimizing",!i()&&n()),W(r,"maximizing",i()&&n()),W(r,"animating",n())}),G("click",r,function(a){ae.call(this,d,a)}),G("keydown",r,function(a){ae.call(this,d,a)}),m(E,j),oe()}var Ie=w('<button class="back-button svelte-a3k4g2" aria-label="Close expanded view"><i class="fa-solid fa-arrow-left svelte-a3k4g2"></i></button>'),Re=w('<span class="tag svelte-a3k4g2"> </span>'),qe=w('<div class="tags svelte-a3k4g2"></div>'),Be=w('<p class="summary svelte-a3k4g2"> </p>'),Ce=w('<a target="_blank" rel="noopener noreferrer" class="link svelte-a3k4g2"><i class="fa-solid fa-arrow-up-right-from-square svelte-a3k4g2"></i> </a>'),De=w('<a target="_blank" rel="noopener noreferrer" class="link svelte-a3k4g2"><i class="fa-solid fa-arrow-up-right-from-square svelte-a3k4g2"></i> Visit Website</a>'),Fe=w('<div class="links svelte-a3k4g2"><!></div>'),Le=w('<div role="button" tabindex="0" class="work-content svelte-a3k4g2"><!> <div class="image-container svelte-a3k4g2"><img class="svelte-a3k4g2"></div> <div class="content svelte-a3k4g2"><h3 class="svelte-a3k4g2"> </h3> <div class="description-wrapper svelte-a3k4g2"><p class="description svelte-a3k4g2"> </p></div> <!> <!> <!></div></div>');function Se(E,d){le(d,!1);let i=S(d,"work",8),n=S(d,"expandState",8),z;me(()=>{z=Z.subscribe(r=>{n().setExpanded(r===i().title)})}),ue(()=>{z&&z()}),fe(()=>(de(n()),de(i())),()=>{n().isExpanded?Z.set(i().title):Z.set(null)}),pe(),ge();var g=Le(),q=b(g);{var e=r=>{var v=Ie();R(()=>W(v,"fadeOut",!n().isExpanded&&n().isAnimating)),G("click",v,he(()=>n().toggleExpand())),m(r,v)};L(q,r=>{(n().isExpanded||n().isAnimating)&&r(e)})}var M=I(q,2),A=b(M);h(M);var V=I(M,2),x=b(V),K=b(x,!0);h(x);var B=I(x,2),u=b(B),H=b(u,!0);h(u),h(B);var X=I(B,2);{var j=r=>{var v=qe();se(v,5,()=>i().tags,re,(a,o)=>{var s=Re(),_=b(s,!0);h(s),R(()=>N(_,t(o))),m(a,s)}),h(v),m(r,v)};L(X,r=>{i().tags&&r(j)})}var T=I(X,2);{var P=r=>{var v=Be(),a=b(v,!0);h(v),R(()=>N(a,i().summary)),m(r,v)};L(T,r=>{n().isExpanded&&i().summary&&r(P)})}var Q=I(T,2);{var $=r=>{var v=Fe(),a=b(v);{var o=_=>{var f=ce(),p=ne(f);se(p,1,()=>i().links,re,(C,c)=>{var k=Ce(),y=I(b(k));h(k),R(()=>{O(k,"href",t(c).href),N(y,` ${t(c).label??""}`)}),m(C,k)}),m(_,f)},s=_=>{var f=ce(),p=ne(f);{var C=c=>{var k=De();R(()=>O(k,"href",i().link)),m(c,k)};L(p,c=>{i().link&&c(C)},!0)}m(_,f)};L(a,_=>{i().links?_(o):_(s,!1)})}h(v),m(r,v)};L(Q,r=>{n().isExpanded&&(i().link||i().links)&&r($)})}h(V),h(g),R(()=>{O(g,"aria-expanded",n().isExpanded),W(g,"expanded",n().isExpanded),W(g,"minimizing",!n().isExpanded&&n().isAnimating),W(g,"maximizing",n().isExpanded&&n().isAnimating),W(g,"animating",n().isAnimating),O(A,"src",i().image),O(A,"alt",i().title),N(K,i().title),N(H,i().description)}),G("click",g,()=>{n().toggleExpand()}),G("keydown",g,r=>{n().toggleExpand()}),m(E,g),oe()}var He=w('<div class="works-grid svelte-b613hu"></div>');function $e(E,d){le(d,!1);const i=_e(),n=()=>ke(Z,"$expandedWorkId",i);let z=S(d,"works",8),g=Y(null);fe(()=>n(),()=>{U(g,n())}),pe();var q=He();se(q,5,z,re,(e,M)=>{var A=F(()=>t(g)===t(M).title);We(e,{class_name:"work-card",get isExpanded(){return t(A)},children:we,$$slots:{default:(V,x)=>{const K=F(()=>x.isExpanded),B=F(()=>x.isAnimating),u=F(()=>x.isMaximizing),H=F(()=>x.isMinimizing),X=F(()=>x.toggleExpand),j=F(()=>x.setExpanded);var T=F(()=>({isExpanded:t(K),isAnimating:t(B),isMaximizing:t(u),isMinimizing:t(H),toggleExpand:t(X),setExpanded:t(j)}));Se(V,{get work(){return t(M)},get expandState(){return t(T)}})}}})}),h(q),m(E,q),oe()}export{$e as default};
