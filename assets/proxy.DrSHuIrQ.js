import{S as m,A as d,B as O,x as v,U as a,g as b,C as R,D as A}from"./template.BcbFdhFy.js";import{o as S,a as T,g as x,b as j,i as B}from"./equality.CHFDe4kT.js";function o(s,h=null,E){if(typeof s!="object"||s===null||m in s)return s;const P=j(s);if(P!==S&&P!==T)return s;var f=new Map,y=B(s),_=d(0);y&&f.set("length",d(s.length));var l;return new Proxy(s,{defineProperty(n,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&O();var r=f.get(e);return r===void 0?(r=d(t.value),f.set(e,r)):v(r,o(t.value,l)),!0},deleteProperty(n,e){var t=f.get(e);if(t===void 0)e in n&&f.set(e,d(a));else{if(y&&typeof e=="string"){var r=f.get("length"),i=Number(e);Number.isInteger(i)&&i<r.v&&v(r,i)}v(t,a),D(_)}return!0},get(n,e,t){if(e===m)return s;var r=f.get(e),i=e in n;if(r===void 0&&(!i||x(n,e)?.writable)&&(r=d(o(i?n[e]:a,l)),f.set(e,r)),r!==void 0){var u=b(r);return u===a?void 0:u}return Reflect.get(n,e,t)},getOwnPropertyDescriptor(n,e){var t=Reflect.getOwnPropertyDescriptor(n,e);if(t&&"value"in t){var r=f.get(e);r&&(t.value=b(r))}else if(t===void 0){var i=f.get(e),u=i?.v;if(i!==void 0&&u!==a)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(n,e){if(e===m)return!0;var t=f.get(e),r=t!==void 0&&t.v!==a||Reflect.has(n,e);if(t!==void 0||R!==null&&(!r||x(n,e)?.writable)){t===void 0&&(t=d(r?o(n[e],l):a),f.set(e,t));var i=b(t);if(i===a)return!1}return r},set(n,e,t,r){var i=f.get(e),u=e in n;if(y&&e==="length")for(var g=t;g<i.v;g+=1){var c=f.get(g+"");c!==void 0?v(c,a):g in n&&(c=d(a),f.set(g+"",c))}i===void 0?(!u||x(n,e)?.writable)&&(i=d(void 0),v(i,o(t,l)),f.set(e,i)):(u=i.v!==a,v(i,o(t,l)));var I=Reflect.getOwnPropertyDescriptor(n,e);if(I?.set&&I.set.call(r,t),!u){if(y&&typeof e=="string"){var N=f.get("length"),w=Number(e);Number.isInteger(w)&&w>=N.v&&v(N,w+1)}D(_)}return!0},ownKeys(n){b(_);var e=Reflect.ownKeys(n).filter(i=>{var u=f.get(i);return u===void 0||u.v!==a});for(var[t,r]of f)r.v!==a&&!(t in n)&&e.push(t);return e},setPrototypeOf(){A()}})}function D(s,h=1){v(s,s.v+h)}export{o as p};
