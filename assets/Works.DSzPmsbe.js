import{i as Ae}from"./lifecycle.BtNrIyi1.js";import{w as Se,p as ye,A as pe,B as ke,E as he,g as t,d as O,t as T,a as be,m as $,C as ue,s as I,c as R,r as w,D as n,F as D}from"./runtime.Codrn5cO.js";import{a as x,t as b,e as ze}from"./template.D3X1mu1W.js";import{i as V,s as ee,e as we,a as _e}from"./attributes.DQrjjOkw.js";import{a as Re,p as _,b as Ce}from"./props.B7y-5qrD.js";import{o as Fe,a as We,i as qe}from"./index-client.Dms7qlQn.js";import{e as Y,s as ce}from"./render.B840OeUg.js";import{s as Ie,p as Te}from"./parallax.B0UdiFVQ.js";import{t as C,s as Ye}from"./class.DzE6h4nJ.js";import{b as Me}from"./this.Bqp3I0c2.js";/* empty css                       */import{e as fe}from"./work.BfGDsiUn.js";import"./proxy.CSk7of_7.js";import"./utils.DP0BsZ3-.js";import"./index.DpDRSc5s.js";function ve(E){return function(...s){var r=s[0];return r.stopPropagation(),E?.apply(this,s)}}function Pe(E){return function(...s){var r=s[0];return r.preventDefault(),E?.apply(this,s)}}function Be(E,s){var r=E.$$events?.[s.type],l=Se(r)?r.slice():r==null?[]:[r];for(var z of l)z.call(this,s)}var De=b('<div class="backdrop svelte-8e31dt" aria-hidden="true"></div>'),Oe=b('<div class="placeholder svelte-8e31dt"></div>'),Ve=b('<!> <!> <div role="button" tabindex="0"><!></div>',1);function Xe(E,s){ye(s,!1);const r=Re(),l=()=>Ce(Te,"$parallaxFactors",r),z=$();let i=_(s,"isExpanded",12,!1),c=_(s,"isAnimating",12,!1),te=_(s,"isMaximizing",12,!1),B=_(s,"isMinimizing",12,!1),ae=_(s,"class_name",8),H=_(s,"parallaxEnabled",8,!1),h=_(s,"layer",8,"default"),se=_(s,"centerMode",8,"section"),X=_(s,"viewportOffset",8,0);_(s,"shadow",24,()=>({enabled:!1,size:15,opacity:.1,offset:4}));let e=$(),j=$(null),F=$(),P=$(),L=0;function re(a,o){if(o===0||!H())return{parallaxY:0,parallaxRatio:0};const d=typeof window<"u"?window.innerHeight:0,f=d/2;let k;switch(se()){case"element":k=a.top+a.height/2;break;case"viewport-relative":k=a.top+X();break;case"section":default:const U=t(e).closest("section");if(!U)return{parallaxY:0,parallaxRatio:0};const A=U.getBoundingClientRect();k=A.top+A.height/2;break}const g=(f-k)/(d/2),Q=o<0?-1:1,u=Math.abs(o),ne=Q*Math.min(Math.max(-g*u,-u),u);return{parallaxY:ne,parallaxRatio:ne/o}}function le(){const a=t(e).getBoundingClientRect(),o=re(a,t(P));L=o.parallaxY,t(e).style.setProperty("--parallax-offset",`${L}px`),t(e).style.setProperty("--parallax-ratio",o.parallaxRatio.toString())}Fe(()=>{requestAnimationFrame(le);const a=f=>{le(),i()&&!c()&&f.target===document&&N()};window.addEventListener("scroll",a);let o;const d=()=>{clearTimeout(o),o=setTimeout(le,100)};return window.addEventListener("resize",d),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",d)}});let ie=$(!1);function p(){!H()||i()||c()||(O(ie,!0),t(e).getBoundingClientRect())}function v(){H()&&O(ie,!1)}function G(){const a=window.innerWidth,o=window.innerHeight;return{width:Math.min(a*.9,1200),height:Math.min(o*.95,1e3),left:a/2,top:o/2}}function J(a,o,d,f){return function(k){if(k===0||k===1)return k;let g=k;for(let Q=0;Q<4;Q++){const u=g,ne=(1-u)**3*0+3*(1-u)**2*u*a+3*(1-u)*u**2*d+u**3*1,U=-3*(1-u)**2*0+3*(1-u)**2*a+6*(1-u)*u*(d-a)+3*u**2*(1-d);g=u-(ne-k)/U}return(1-g)**3*0+3*(1-g)**2*g*o+3*(1-g)*g**2*f+g**3*1}}const K=J(.65,.05,.36,1);function M(a){te(a),B(!a);const o=t(e).getBoundingClientRect(),d=a?o:t(F).getBoundingClientRect();O(j,d);const f=G();let k=performance.now(),g;n(e,t(e).style.position="fixed"),n(e,t(e).style.zIndex="2000"),n(e,t(e).style.width=a?`${d.width}px`:`${f.width}px`),n(e,t(e).style.height=a?`${d.height}px`:`${f.height}px`),n(e,t(e).style.top=`${d.top}px`),n(e,t(e).style.left=`${d.left}px`),n(e,t(e).style.transition="none"),t(e).offsetHeight;function Q(u){const ne=u-k,U=Math.min(ne/500,1),A=K(U),Z=t(F).getBoundingClientRect();if(L=re(Z,t(P)).parallaxY,a){const q=m(Z.top,f.top-f.height/2,A),de=m(Z.left,f.left-f.width/2,A),me=m(d.width,f.width,A),xe=m(d.height,f.height,A);n(e,t(e).style.top=`${q}px`),n(e,t(e).style.left=`${de}px`),n(e,t(e).style.width=`${me}px`),n(e,t(e).style.height=`${xe}px`)}else{const q=m(f.top-f.height/2,Z.top,A),de=m(f.left-f.width/2,Z.left,A),me=m(f.width,Z.width,A),xe=m(f.height,Z.height,A);n(e,t(e).style.top=`${q}px`),n(e,t(e).style.left=`${de}px`),n(e,t(e).style.width=`${me}px`),n(e,t(e).style.height=`${xe}px`)}if(t(e).style.setProperty("--parallax-offset",`${L}px`),U<1)g=requestAnimationFrame(Q);else if(i())n(e,t(e).style.position="fixed"),n(e,t(e).style.transition=""),c(!1);else{const q=t(F).getBoundingClientRect(),de=re(q,t(P));n(e,t(e).style.position="fixed"),n(e,t(e).style.top=`${q.top}px`),n(e,t(e).style.left=`${q.left}px`),n(e,t(e).style.width=`${q.width}px`),n(e,t(e).style.height=`${q.height}px`),n(e,t(e).style.margin="0"),t(e).style.setProperty("--parallax-offset",`${de.parallaxY}px`),requestAnimationFrame(()=>{n(e,t(e).style.position="relative"),n(e,t(e).style.top="0"),n(e,t(e).style.left="0"),n(e,t(e).style.margin=""),n(e,t(e).style.zIndex=""),n(e,t(e).style.width=""),n(e,t(e).style.height=""),n(e,t(e).style.transition=""),c(!1)})}}return g=requestAnimationFrame(Q),()=>{g&&cancelAnimationFrame(g)}}function m(a,o,d){return a*(1-d)+o*d}function N(){c()||!t(e)||(c(!0),i(!i()),M(i()))}function oe(a){c()||!t(e)||i()===a||(c(!0),i(a),M(i()))}We(()=>{i()&&document.documentElement.classList.remove("no-scroll")}),pe(()=>(l(),ue(h())),()=>{O(P,l()[h()])}),pe(()=>(t(ie),ue(i())),()=>{O(z,t(ie)&&!i()?1:0)}),pe(()=>(t(e),t(z)),()=>{t(e)&&t(e).style.setProperty("--hover-scale",t(z).toString())}),ke(),Ae();var S=Ve(),W=he(S);{var ge=a=>{var o=De();T(()=>C(o,"fadeOut",!i()&&c())),Y("click",o,ve(()=>N())),Y("wheel",o,Pe(function(d){Be.call(this,s,d)})),x(a,o)};V(W,a=>{(i()||c())&&a(ge)})}var Ee=I(W,2);{var He=a=>{var o=Oe();Me(o,d=>O(F,d),()=>t(F)),T(()=>ee(o,"style",`width: ${t(j)?.width??""}px; height: ${t(j)?.height??""}px;`)),x(a,o)};V(Ee,a=>{(c()||i())&&a(He)})}var y=I(Ee,2),Le=R(y);Ie(Le,s,"default",{get isExpanded(){return i()},get isAnimating(){return c()},get isMaximizing(){return te()},get isMinimizing(){return B()},toggleExpand:N,setExpanded:oe}),w(y),Me(y,a=>O(e,a),()=>t(e)),T(()=>{Ye(y,`card ${ae()??""} svelte-8e31dt`),ee(y,"aria-expanded",i()),C(y,"expanded",i()),C(y,"minimizing",!i()&&c()),C(y,"maximizing",i()&&c()),C(y,"animating",c()),C(y,"parallax",H())}),Y("mouseenter",y,p),Y("mouseleave",y,v),x(E,S),be()}var je=b('<button class="back-button svelte-a3k4g2" aria-label="Close expanded view"><i class="fa-solid fa-arrow-left svelte-a3k4g2"></i></button>'),Ge=b('<span class="tag svelte-a3k4g2"> </span>'),Je=b('<div class="tags svelte-a3k4g2"></div>'),Ke=b('<p class="summary svelte-a3k4g2"> </p>'),Ne=b('<a target="_blank" rel="noopener noreferrer" class="link svelte-a3k4g2"><i class="fa-solid fa-arrow-up-right-from-square svelte-a3k4g2"></i> </a>'),Qe=b('<a target="_blank" rel="noopener noreferrer" class="link svelte-a3k4g2"><i class="fa-solid fa-arrow-up-right-from-square svelte-a3k4g2"></i> Visit Website</a>'),Ue=b('<div class="links svelte-a3k4g2"><!></div>'),Ze=b('<div role="button" tabindex="0" class="work-content svelte-a3k4g2"><!> <div class="image-container svelte-a3k4g2"><img class="svelte-a3k4g2"></div> <div class="content svelte-a3k4g2"><h3 class="svelte-a3k4g2"> </h3> <div class="description-wrapper svelte-a3k4g2"><p class="description svelte-a3k4g2"> </p></div> <!> <!> <!></div></div>');function $e(E,s){ye(s,!1);let r=_(s,"work",8),l=_(s,"expandState",8),z;Fe(()=>{z=fe.subscribe(p=>{l().setExpanded(p===r().title)})}),We(()=>{z&&z()}),pe(()=>(ue(l()),ue(r())),()=>{l().isExpanded?fe.set(r().title):fe.set(null)}),ke(),Ae();var i=Ze(),c=R(i);{var te=p=>{var v=je();T(()=>C(v,"fadeOut",!l().isExpanded&&l().isAnimating)),Y("click",v,ve(()=>l().toggleExpand())),x(p,v)};V(c,p=>{(l().isExpanded||l().isAnimating)&&p(te)})}var B=I(c,2),ae=R(B);w(B);var H=I(B,2),h=R(H),se=R(h,!0);w(h);var X=I(h,2),e=R(X),j=R(e,!0);w(e),w(X);var F=I(X,2);{var P=p=>{var v=Je();we(v,5,()=>r().tags,_e,(G,J)=>{var K=Ge(),M=R(K,!0);w(K),T(()=>ce(M,t(J))),x(G,K)}),w(v),x(p,v)};V(F,p=>{r().tags&&p(P)})}var L=I(F,2);{var re=p=>{var v=Ke(),G=R(v,!0);w(v),T(()=>ce(G,r().summary)),Y("wheel",v,ve(function(J){Be.call(this,s,J)})),x(p,v)};V(L,p=>{l().isExpanded&&r().summary&&p(re)})}var le=I(L,2);{var ie=p=>{var v=Ue(),G=R(v);{var J=M=>{var m=ze(),N=he(m);we(N,1,()=>r().links,_e,(oe,S)=>{var W=Ne(),ge=I(R(W));w(W),T(()=>{ee(W,"href",t(S).href),ce(ge,` ${t(S).label??""}`)}),x(oe,W)}),x(M,m)},K=M=>{var m=ze(),N=he(m);{var oe=S=>{var W=Qe();T(()=>ee(W,"href",r().link)),x(S,W)};V(N,S=>{r().link&&S(oe)},!0)}x(M,m)};V(G,M=>{r().links?M(J):M(K,!1)})}w(v),x(p,v)};V(le,p=>{l().isExpanded&&(r().link||r().links)&&p(ie)})}w(H),w(i),T(()=>{ee(i,"aria-expanded",l().isExpanded),C(i,"expanded",l().isExpanded),C(i,"minimizing",!l().isExpanded&&l().isAnimating),C(i,"maximizing",l().isExpanded&&l().isAnimating),C(i,"animating",l().isAnimating),ee(ae,"src",r().image),ee(ae,"alt",r().title),ce(se,r().title),ce(j,r().description)}),Y("wheel",i,ve(p=>{l().isExpanded&&p.stopPropagation()})),Y("click",i,()=>{l().toggleExpand()}),Y("keydown",i,p=>{l().toggleExpand()}),x(E,i),be()}var et=b('<div class="works-grid svelte-b613hu"></div>');function xt(E,s){ye(s,!1);const r=Re(),l=()=>Ce(fe,"$expandedWorkId",r);let z=_(s,"works",8),i=$(null);pe(()=>l(),()=>{O(i,l())}),ke();var c=et();we(c,5,z,_e,(te,B)=>{var ae=D(()=>t(i)===t(B).title);Xe(te,{class_name:"work-card",get isExpanded(){return t(ae)},parallaxEnabled:!0,layer:"content",shadow:{enabled:!0,size:15,opacity:.1,offset:4},children:qe,$$slots:{default:(H,h)=>{const se=D(()=>h.isExpanded),X=D(()=>h.isAnimating),e=D(()=>h.isMaximizing),j=D(()=>h.isMinimizing),F=D(()=>h.toggleExpand),P=D(()=>h.setExpanded);var L=D(()=>({isExpanded:t(se),isAnimating:t(X),isMaximizing:t(e),isMinimizing:t(j),toggleExpand:t(F),setExpanded:t(P)}));$e(H,{get work(){return t(B)},get expandState(){return t(L)}})}}})}),w(c),x(E,c),be()}export{xt as default};
