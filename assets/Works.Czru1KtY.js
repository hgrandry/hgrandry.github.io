import{i as ne}from"./lifecycle.CYL-VhhV.js";import{p as X,A as Y,B as Z,t as m,a as $,C as Q,c as n,s as v,r as i,g as p,D as R,d as de,E as T,m as le}from"./runtime.D3AJSUmp.js";import{a as o,t as d,c as U}from"./template.DLwF89M8.js";import{i as f,s as x,e as G,a as H}from"./attributes.DU3rw1ip.js";import{p as J,a as ve,b as pe}from"./props.CgyxvqhT.js";import{o as ge,a as ce,i as me}from"./index-client.BNzU22Za.js";import{s as F,b as fe,C as _e}from"./Card.CtE4hKMi.js";import{e as W,s as S}from"./render.74B-pXJz.js";import{t as b}from"./class.D1BT_rAY.js";import{e as I}from"./work.C_YAWyzT.js";/* empty css                       */import"./proxy.DVzrfA23.js";import"./utils.DJ3P7_0R.js";import"./parallax.upw7Ryn0.js";import"./index._K7fLCSQ.js";import"./this.B3z5MGQS.js";var ke=d('<button class="back-button svelte-gk1j4g" aria-label="Close expanded view"><i class="fa-solid fa-arrow-left svelte-gk1j4g"></i></button>'),ue=d('<video autoplay loop playsinline="" class="video-overlay svelte-gk1j4g"></video>',2),xe=d('<span class="tag svelte-gk1j4g"> </span>'),be=d('<div class="tags svelte-gk1j4g"></div>'),Ee=d('<p class="summary svelte-gk1j4g"> </p>'),he=d('<a target="_blank" rel="noopener noreferrer" class="link svelte-gk1j4g"><i class="fa-solid fa-arrow-up-right-from-square svelte-gk1j4g"></i> </a>'),je=d('<a target="_blank" rel="noopener noreferrer" class="link svelte-gk1j4g"><i class="fa-solid fa-arrow-up-right-from-square svelte-gk1j4g"></i> Visit Website</a>'),we=d('<div class="links svelte-gk1j4g"><!></div>'),ye=d('<div role="button" tabindex="0" class="work-content svelte-gk1j4g"><!> <div class="image-container svelte-gk1j4g"><!> <img class="svelte-gk1j4g"></div> <div class="content svelte-gk1j4g"><h3 class="svelte-gk1j4g"> </h3> <div class="description-wrapper svelte-gk1j4g"><p class="description svelte-gk1j4g"> </p></div> <!> <!> <!></div></div>');function Ae(q,g){X(g,!1);let t=J(g,"work",8),e=J(g,"expandState",8),E;ge(()=>{E=I.subscribe(a=>{e().setExpanded(a===t().title)})}),ce(()=>{E&&E()}),Y(()=>(Q(e()),Q(t())),()=>{e().isExpanded?I.set(t().title):I.set(null)}),Z(),ne();var r=ye(),_=n(r);{var D=a=>{var s=ke();m(()=>b(s,"fadeOut",!e().isExpanded&&e().isAnimating)),W("click",s,F(()=>e().toggleExpand())),o(a,s)};f(_,a=>{(e().isExpanded||e().isAnimating)&&a(D)})}var k=v(_,2),z=n(k);{var M=a=>{var s=ue();s.muted=!0,m(()=>x(s,"src",t().video)),o(a,s)};f(z,a=>{(e().isExpanded||e().isAnimating)&&t().video&&a(M)})}var h=v(z,2);i(k);var C=v(k,2),P=n(C),ee=n(P,!0);i(P);var B=v(P,2),K=n(B),ae=n(K,!0);i(K),i(B);var L=v(B,2);{var te=a=>{var s=be();G(s,5,()=>t().tags,H,(j,w)=>{var y=xe(),l=n(y,!0);i(y),m(()=>S(l,p(w))),o(j,y)}),i(s),o(a,s)};f(L,a=>{t().tags&&a(te)})}var N=v(L,2);{var se=a=>{var s=Ee(),j=n(s,!0);i(s),m(()=>S(j,t().summary)),W("wheel",s,F(function(w){fe.call(this,g,w)})),o(a,s)};f(N,a=>{e().isExpanded&&t().summary&&a(se)})}var re=v(N,2);{var ie=a=>{var s=we(),j=n(s);{var w=l=>{var A=U(),O=R(A);G(O,1,()=>t().links,H,(V,u)=>{var c=he(),oe=v(n(c));i(c),m(()=>{x(c,"href",p(u).href),S(oe,` ${p(u).label??""}`)}),o(V,c)}),o(l,A)},y=l=>{var A=U(),O=R(A);{var V=u=>{var c=je();m(()=>x(c,"href",t().link)),o(u,c)};f(O,u=>{t().link&&u(V)},!0)}o(l,A)};f(j,l=>{t().links?l(w):l(y,!1)})}i(s),o(a,s)};f(re,a=>{e().isExpanded&&(t().link||t().links)&&a(ie)})}i(C),i(r),m(()=>{x(r,"aria-expanded",e().isExpanded),b(r,"expanded",e().isExpanded),b(r,"minimizing",!e().isExpanded&&e().isAnimating),b(r,"maximizing",e().isExpanded&&e().isAnimating),b(r,"animating",e().isAnimating),x(h,"src",t().image),x(h,"alt",t().title),b(h,"image-fade",e().isExpanded&&!e().isMinimizing&&t().video),S(ee,t().title),S(ae,t().description)}),W("wheel",r,F(a=>{e().isExpanded&&a.stopPropagation()})),W("click",r,()=>{e().toggleExpand()}),W("keydown",r,a=>{e().toggleExpand()}),o(q,r),$()}var We=d('<div class="works-grid svelte-b613hu"></div>');function Le(q,g){X(g,!1);const t=ve(),e=()=>pe(I,"$expandedWorkId",t);let E=J(g,"works",8),r=le(null);Y(()=>e(),()=>{de(r,e())}),Z();var _=We();G(_,5,E,H,(D,k)=>{var z=T(()=>p(r)===p(k).title);_e(D,{class_name:"work-card",clickable:!0,get isExpanded(){return p(z)},parallax:{layer:"content",shadow:{size:15,opacity:.1,offset:4}},children:me,$$slots:{default:(M,h)=>{const C=T(()=>h.expandState);Ae(M,{get work(){return p(k)},get expandState(){return p(C)}})}}})}),i(_),o(q,_),$()}export{Le as default};
