import{i as ne}from"./lifecycle.CYL-VhhV.js";import{p as X,A as Y,B as Z,t as g,a as $,C as Q,c as n,s as v,r as i,g as c,D as R,d as le,E as T,m as de}from"./runtime.D3AJSUmp.js";import{a as o,t as l,c as U}from"./template.DLwF89M8.js";import{i as _,s as b,e as G,a as H}from"./attributes.DU3rw1ip.js";import{p as J,a as ve,b as pe}from"./props.CgyxvqhT.js";import{o as ce,a as me,i as fe}from"./index-client.BNzU22Za.js";import{s as F,b as ge,C as _e}from"./Card.DSAWZhv8.js";import{e as p,s as z}from"./render.74B-pXJz.js";import{t as E}from"./class.D1BT_rAY.js";import{e as V}from"./work.C_YAWyzT.js";/* empty css                       */import"./proxy.DVzrfA23.js";import"./utils.DJ3P7_0R.js";import"./parallax.upw7Ryn0.js";import"./index._K7fLCSQ.js";import"./this.B3z5MGQS.js";var ue=l('<button class="back-button svelte-180on9e" aria-label="Close expanded view"><i class="fa-solid fa-arrow-left svelte-180on9e"></i></button>'),xe=l('<video autoplay loop playsinline="" preload="metadata" controls class="video-overlay svelte-180on9e"></video>',2),ke=l('<span class="tag svelte-180on9e"> </span>'),be=l('<div class="tags svelte-180on9e"></div>'),Ee=l('<p class="summary svelte-180on9e"> </p>'),he=l('<a target="_blank" rel="noopener noreferrer" class="link svelte-180on9e"><i class="fa-solid fa-arrow-up-right-from-square svelte-180on9e"></i> </a>'),we=l('<a target="_blank" rel="noopener noreferrer" class="link svelte-180on9e"><i class="fa-solid fa-arrow-up-right-from-square svelte-180on9e"></i> Visit Website</a>'),ye=l('<div class="links svelte-180on9e"><!></div>'),Ae=l('<div role="button" tabindex="0" class="work-content svelte-180on9e"><!> <div class="image-container svelte-180on9e"><!> <img class="svelte-180on9e"></div> <div class="content svelte-180on9e"><h3 class="svelte-180on9e"> </h3> <div class="description-wrapper svelte-180on9e"><p class="description svelte-180on9e"> </p></div> <!> <!> <!></div></div>');function We(q,m){X(m,!1);let s=J(m,"work",8),e=J(m,"expandState",8),h;ce(()=>{h=V.subscribe(a=>{e().setExpanded(a===s().title)})}),me(()=>{h&&h()}),Y(()=>(Q(e()),Q(s())),()=>{e().isExpanded?V.set(s().title):V.set(null)}),Z(),ne();var r=Ae(),u=n(r);{var D=a=>{var t=ue();g(()=>E(t,"fadeOut",!e().isExpanded&&e().isAnimating)),p("click",t,F(()=>e().toggleExpand())),o(a,t)};_(u,a=>{(e().isExpanded||e().isAnimating)&&a(D)})}var x=v(u,2),C=n(x);{var M=a=>{var t=xe();t.muted=!0,g(()=>b(t,"src",s().video)),p("error",t,()=>console.warn("Video failed to load, falling back to image")),p("loadstart",t,()=>console.log("Video loading started")),p("canplay",t,()=>console.log("Video can start playing")),o(a,t)};_(C,a=>{(e().isExpanded||e().isAnimating)&&s().video&&a(M)})}var w=v(C,2);i(x);var I=v(x,2),P=n(I),ee=n(P,!0);i(P);var B=v(P,2),K=n(B),ae=n(K,!0);i(K),i(B);var L=v(B,2);{var te=a=>{var t=be();G(t,5,()=>s().tags,H,(y,A)=>{var W=ke(),d=n(W,!0);i(W),g(()=>z(d,c(A))),o(y,W)}),i(t),o(a,t)};_(L,a=>{s().tags&&a(te)})}var N=v(L,2);{var se=a=>{var t=Ee(),y=n(t,!0);i(t),g(()=>z(y,s().summary)),p("wheel",t,F(function(A){ge.call(this,m,A)})),o(a,t)};_(N,a=>{e().isExpanded&&s().summary&&a(se)})}var re=v(N,2);{var ie=a=>{var t=ye(),y=n(t);{var A=d=>{var S=U(),O=R(S);G(O,1,()=>s().links,H,(j,k)=>{var f=he(),oe=v(n(f));i(f),g(()=>{b(f,"href",c(k).href),z(oe,` ${c(k).label??""}`)}),o(j,f)}),o(d,S)},W=d=>{var S=U(),O=R(S);{var j=k=>{var f=we();g(()=>b(f,"href",s().link)),o(k,f)};_(O,k=>{s().link&&k(j)},!0)}o(d,S)};_(y,d=>{s().links?d(A):d(W,!1)})}i(t),o(a,t)};_(re,a=>{e().isExpanded&&(s().link||s().links)&&a(ie)})}i(I),i(r),g(()=>{b(r,"aria-expanded",e().isExpanded),E(r,"expanded",e().isExpanded),E(r,"minimizing",!e().isExpanded&&e().isAnimating),E(r,"maximizing",e().isExpanded&&e().isAnimating),E(r,"animating",e().isAnimating),b(w,"src",s().image),b(w,"alt",s().title),E(w,"image-fade",e().isExpanded&&!e().isMinimizing&&s().video),z(ee,s().title),z(ae,s().description)}),p("wheel",r,F(a=>{e().isExpanded&&a.stopPropagation()})),p("click",r,()=>{e().toggleExpand()}),p("keydown",r,a=>{e().toggleExpand()}),o(q,r),$()}var Se=l('<div class="works-grid svelte-b613hu"></div>');function Le(q,m){X(m,!1);const s=ve(),e=()=>pe(V,"$expandedWorkId",s);let h=J(m,"works",8),r=de(null);Y(()=>e(),()=>{le(r,e())}),Z();var u=Se();G(u,5,h,H,(D,x)=>{var C=T(()=>c(r)===c(x).title);_e(D,{class_name:"work-card",clickable:!0,get isExpanded(){return c(C)},parallax:{layer:"content",shadow:{size:15,opacity:.1,offset:4}},children:fe,$$slots:{default:(M,w)=>{const I=T(()=>w.expandState);We(M,{get work(){return c(x)},get expandState(){return c(I)}})}}})}),i(u),o(q,u),$()}export{Le as default};
