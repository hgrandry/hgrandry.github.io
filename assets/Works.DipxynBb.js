import{i as ne}from"./lifecycle.CYL-VhhV.js";import{p as X,A as Y,B as Z,t as f,a as $,C as Q,c as n,s as v,r as i,g as p,D as R,d as de,E as T,m as le}from"./runtime.D3AJSUmp.js";import{a as o,t as d,c as U}from"./template.DLwF89M8.js";import{i as _,s as k,e as G,a as H}from"./attributes.DU3rw1ip.js";import{p as J,a as ve,b as pe}from"./props.CgyxvqhT.js";import{o as ce,a as me,i as fe}from"./index-client.BNzU22Za.js";import{s as F,b as _e,C as ge}from"./Card.DSAWZhv8.js";import{e as S,s as z}from"./render.74B-pXJz.js";import{t as b}from"./class.D1BT_rAY.js";import{e as q}from"./work.C_YAWyzT.js";/* empty css                       */import"./proxy.DVzrfA23.js";import"./utils.DJ3P7_0R.js";import"./parallax.upw7Ryn0.js";import"./index._K7fLCSQ.js";import"./this.B3z5MGQS.js";var ue=d('<button class="back-button svelte-180on9e" aria-label="Close expanded view"><i class="fa-solid fa-arrow-left svelte-180on9e"></i></button>'),xe=d('<video autoplay loop playsinline="" preload="metadata" class="video-overlay svelte-180on9e"></video>',2),ke=d('<span class="tag svelte-180on9e"> </span>'),be=d('<div class="tags svelte-180on9e"></div>'),Ee=d('<p class="summary svelte-180on9e"> </p>'),he=d('<a target="_blank" rel="noopener noreferrer" class="link svelte-180on9e"><i class="fa-solid fa-arrow-up-right-from-square svelte-180on9e"></i> </a>'),we=d('<a target="_blank" rel="noopener noreferrer" class="link svelte-180on9e"><i class="fa-solid fa-arrow-up-right-from-square svelte-180on9e"></i> Visit Website</a>'),ye=d('<div class="links svelte-180on9e"><!></div>'),Ae=d('<div role="button" tabindex="0" class="work-content svelte-180on9e"><!> <div class="image-container svelte-180on9e"><!> <img class="svelte-180on9e"></div> <div class="content svelte-180on9e"><h3 class="svelte-180on9e"> </h3> <div class="description-wrapper svelte-180on9e"><p class="description svelte-180on9e"> </p></div> <!> <!> <!></div></div>');function We(D,c){X(c,!1);let t=J(c,"work",8),e=J(c,"expandState",8),E;ce(()=>{E=q.subscribe(a=>{e().setExpanded(a===t().title)})}),me(()=>{E&&E()}),Y(()=>(Q(e()),Q(t())),()=>{e().isExpanded?q.set(t().title):q.set(null)}),Z(),ne();var r=Ae(),g=n(r);{var M=a=>{var s=ue();f(()=>b(s,"fadeOut",!e().isExpanded&&e().isAnimating)),S("click",s,F(()=>e().toggleExpand())),o(a,s)};_(g,a=>{(e().isExpanded||e().isAnimating)&&a(M)})}var u=v(g,2),C=n(u);{var P=a=>{var s=xe();s.muted=!0,f(()=>k(s,"src",t().video)),o(a,s)};_(C,a=>{(e().isExpanded||e().isAnimating)&&t().video&&a(P)})}var h=v(C,2);i(u);var I=v(u,2),B=n(I),ee=n(B,!0);i(B);var O=v(B,2),K=n(O),ae=n(K,!0);i(K),i(O);var L=v(O,2);{var te=a=>{var s=be();G(s,5,()=>t().tags,H,(w,y)=>{var A=ke(),l=n(A,!0);i(A),f(()=>z(l,p(y))),o(w,A)}),i(s),o(a,s)};_(L,a=>{t().tags&&a(te)})}var N=v(L,2);{var se=a=>{var s=Ee(),w=n(s,!0);i(s),f(()=>z(w,t().summary)),S("wheel",s,F(function(y){_e.call(this,c,y)})),o(a,s)};_(N,a=>{e().isExpanded&&t().summary&&a(se)})}var re=v(N,2);{var ie=a=>{var s=ye(),w=n(s);{var y=l=>{var W=U(),V=R(W);G(V,1,()=>t().links,H,(j,x)=>{var m=he(),oe=v(n(m));i(m),f(()=>{k(m,"href",p(x).href),z(oe,` ${p(x).label??""}`)}),o(j,m)}),o(l,W)},A=l=>{var W=U(),V=R(W);{var j=x=>{var m=we();f(()=>k(m,"href",t().link)),o(x,m)};_(V,x=>{t().link&&x(j)},!0)}o(l,W)};_(w,l=>{t().links?l(y):l(A,!1)})}i(s),o(a,s)};_(re,a=>{e().isExpanded&&(t().link||t().links)&&a(ie)})}i(I),i(r),f(()=>{k(r,"aria-expanded",e().isExpanded),b(r,"expanded",e().isExpanded),b(r,"minimizing",!e().isExpanded&&e().isAnimating),b(r,"maximizing",e().isExpanded&&e().isAnimating),b(r,"animating",e().isAnimating),k(h,"src",t().image),k(h,"alt",t().title),b(h,"image-fade",e().isExpanded&&!e().isMinimizing&&t().video),z(ee,t().title),z(ae,t().description)}),S("wheel",r,F(a=>{e().isExpanded&&a.stopPropagation()})),S("click",r,()=>{e().toggleExpand()}),S("keydown",r,a=>{e().toggleExpand()}),o(D,r),$()}var Se=d('<div class="works-grid svelte-b613hu"></div>');function Le(D,c){X(c,!1);const t=ve(),e=()=>pe(q,"$expandedWorkId",t);let E=J(c,"works",8),r=le(null);Y(()=>e(),()=>{de(r,e())}),Z();var g=Se();G(g,5,E,H,(M,u)=>{var C=T(()=>p(r)===p(u).title);ge(M,{class_name:"work-card",clickable:!0,get isExpanded(){return p(C)},parallax:{layer:"content",shadow:{size:15,opacity:.1,offset:4}},children:fe,$$slots:{default:(P,h)=>{const I=T(()=>h.expandState);We(P,{get work(){return p(u)},get expandState(){return p(I)}})}}})}),i(g),o(D,g),$()}export{Le as default};
