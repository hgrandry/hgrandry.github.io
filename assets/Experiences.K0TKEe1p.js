import{i as J}from"./lifecycle.Dt1m5ZJi.js";import{p as R,z as Z,A as ee,t as E,g as a,d as S,a as U,m as O,C as Y,B as te,c as t,r as e,s as p,D as se,n as ae,E as re}from"./runtime.CJxWV0rf.js";import{e as B,s as x}from"./render.BIjV1M99.js";import{i as G,e as W,a as F,s as le}from"./attributes.CAEMiAjT.js";import{a as c,t as m}from"./template.BMaGmDQA.js";import{c as ie,t as K,o as ne}from"./index-client.BsdcetsV.js";import{b as N}from"./this.C6gCiUzC.js";import{p as V,a as ve,b as oe}from"./props.B4RdlnXk.js";/* empty css                       */import de from"./Parallax.Bxgmxj3S.js";import{e as pe}from"./work.DeuoRA-D.js";import"./proxy.BMOTCA4l.js";import"./utils.CVykTFJJ.js";import"./index.DiBLy0j7.js";var ce=m('<span class="type svelte-1vy0mjl"> </span>'),me=m('<p class="location svelte-1vy0mjl"> </p>'),fe=m('<li class="svelte-1vy0mjl"> </li>'),ue=m('<span class="skill svelte-1vy0mjl"> </span>'),_e=m('<div class="experience svelte-1vy0mjl" tabindex="0" role="button"><div class="header svelte-1vy0mjl"><div class="title-section svelte-1vy0mjl"><h3 class="svelte-1vy0mjl"> </h3> <div class="company-info svelte-1vy0mjl"><p class="company svelte-1vy0mjl"> </p> <!></div></div> <div class="meta svelte-1vy0mjl"><p class="period svelte-1vy0mjl"> </p> <!></div></div> <div class="content svelte-1vy0mjl"><div class="inner-content svelte-1vy0mjl"><div class="responsibilities svelte-1vy0mjl"><ul class="svelte-1vy0mjl"></ul></div></div></div> <div class="skills svelte-1vy0mjl"></div></div>');function he(L,j){R(j,!1);let n=V(j,"experience",8),P=V(j,"isExpanded",8,!1);const H=ie();let l=O();function $(){H("expand");const s=performance.now(),i=500;function r(A){const Q=A-s;H("heightChange"),Q<i&&requestAnimationFrame(r)}requestAnimationFrame(r)}Z(()=>(a(l),te(P())),()=>{a(l)&&setTimeout(()=>{Y(l,a(l).style.maxHeight=P()?`${a(l).scrollHeight}px`:"0")},0)}),ee(),J();var f=_e(),b=t(f),u=t(b),T=t(u),o=t(T,!0);e(T);var g=p(T,2),_=t(g),d=t(_,!0);e(_);var q=p(_,2);{var D=s=>{var i=ce(),r=t(i,!0);e(i),E(()=>x(r,n().type)),c(s,i)};G(q,s=>{n().type&&s(D)})}e(g),e(u);var w=p(u,2),y=t(w),k=t(y);e(y);var v=p(y,2);{var I=s=>{var i=me(),r=t(i,!0);e(i),E(()=>x(r,n().location)),c(s,i)};G(v,s=>{n().location&&s(I)})}e(w),e(b);var h=p(b,2),C=t(h),M=t(C),X=t(M);W(X,5,()=>n().responsibilities,F,(s,i)=>{var r=fe(),A=t(r,!0);e(r),E(()=>x(A,a(i))),c(s,r)}),e(X),e(M),e(C),e(h),N(h,s=>S(l,s),()=>a(l));var z=p(h,2);W(z,5,()=>n().skills,F,(s,i)=>{var r=ue(),A=t(r,!0);e(r),E(()=>x(A,a(i))),c(s,r)}),e(z),e(f),E(()=>{K(f,"expanded",P()),x(o,n().title),x(d,n().company),x(k,`${n().period.start??""} - ${n().period.end??""}`)}),B("click",f,$),B("keydown",f,s=>s.key==="Enter"&&$()),c(L,f),U()}var xe=m('<div class="marker svelte-gm27hl"><span class="date svelte-gm27hl"> </span> <div class="dot svelte-gm27hl"></div></div>'),ge=m('<div class="experience-wrapper svelte-gm27hl"><!></div>'),ye=m('<div class="timeline svelte-gm27hl"><div class="line svelte-gm27hl"></div> <!></div> <div class="experience-list svelte-gm27hl"></div>',1),ke=m('<div class="experiences svelte-gm27hl"><div class="links svelte-gm27hl"><a href="https://drive.google.com/file/d/1ICIL-f8s4XvXaCnHamv-GuiVcvcJEUO-/view?usp=sharing" target="_blank" rel="noopener noreferrer" class="svelte-gm27hl">Resume</a> <span class="separator svelte-gm27hl">|</span> <a href="https://www.linkedin.com/in/hgrandry" target="_blank" rel="noopener noreferrer" class="svelte-gm27hl">LinkedIn</a></div> <!></div>');function We(L,j){R(j,!1);const n=ve(),P=()=>oe(pe,"$expandedWorkId",n);let H=V(j,"experiences",8),l=O([]),$=O(null);function f(o){S($,a($)===o?null:o)}function b(){a(l).forEach((o,g)=>{const _=o.offsetTop;o.offsetHeight;const d=_+45;if(document.documentElement.style.setProperty(`--marker-${g}-top`,`${d}px`),g===0&&document.documentElement.style.setProperty("--line-top",`${d}px`),g===a(l).length-1){const q=d-parseInt(getComputedStyle(document.documentElement).getPropertyValue("--line-top"));document.documentElement.style.setProperty("--line-height",`${q}px`)}})}ne(()=>{b()}),J();var u=ke(),T=p(t(u),2);de(T,{layer:"content",centerMode:"viewport-relative",viewportOffset:300,class_name:"experience-content",children:(o,g)=>{var _=ye(),d=se(_),q=p(t(d),2);W(q,1,H,F,(w,y,k)=>{var v=xe();le(v,"style",`top: var(--marker-${k}-top)`);var I=t(v),h=t(I,!0);E(()=>x(h,a(y).period.start.split("-")[0])),e(I),ae(2),e(v),c(w,v)}),e(d);var D=p(d,2);W(D,5,H,F,(w,y,k)=>{var v=ge(),I=t(v),h=re(()=>a($)===k);he(I,{get experience(){return a(y)},get isExpanded(){return a(h)},$$events:{expand:()=>f(k),heightChange:b}}),e(v),N(v,(C,M)=>Y(l,a(l)[M]=C),C=>a(l)?.[C],()=>[k]),c(w,v)}),e(D),c(o,_)},$$slots:{default:!0}}),e(u),E(()=>K(u,"fade-out",P()!==null)),c(L,u),U()}export{We as default};
