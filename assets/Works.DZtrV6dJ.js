import{i as fe}from"./lifecycle.DIFoE0P3.js";import{x as xe,p as oe,F as se,g as t,f as U,t as R,a as de,m as Y,s as I,c as b,r as h,E as o,B as pe,C as me,D as ce,G as L}from"./runtime.D0cKiUdn.js";import{a as m,t as y,e as ve}from"./template.xghE3FVS.js";import{i as S,s as G,e as re,a as le}from"./attributes.BjNm56FB.js";import{p as H,a as _e,b as ke}from"./props.BB-HR_cq.js";import{o as ue,a as he,t as W,s as we,i as ye}from"./index-client.DXXyS-C5.js";import{e as q,s as N}from"./render.DflygPmv.js";import{s as Ee}from"./slot.DciUBXO5.js";import{b as ge}from"./this.BOE1u79u.js";/* empty css                       */import{e as Z}from"./work.CnoRmGAu.js";import"./proxy.DjauZPiP.js";import"./utils.DwVOqfoQ.js";import"./index.TyNKgPmN.js";function P(E){return function(...d){var i=d[0];return i.stopPropagation(),E?.apply(this,d)}}function be(E){return function(...d){var i=d[0];return i.preventDefault(),E?.apply(this,d)}}function $(E,d){var i=E.$$events?.[d.type],n=xe(i)?i.slice():i==null?[]:[i];for(var z of n)z.call(this,d)}var ze=y('<div class="backdrop svelte-ino8zy" aria-hidden="true"></div>'),Me=y('<div class="placeholder svelte-ino8zy"></div>'),Ae=y('<!> <!> <div role="button" tabindex="0"><!></div>',1);function We(E,d){oe(d,!1);let i=H(d,"isExpanded",12,!1),n=H(d,"isAnimating",12,!1),z=H(d,"isMaximizing",12,!1),g=H(d,"isMinimizing",12,!1),B=H(d,"class_name",8),e=Y(),M=Y(null),A=Y();function V(){const a=window.innerWidth,l=window.innerHeight;return{width:Math.min(a*.9,1200),height:Math.min(l*.95,1e3),left:a/2,top:l/2}}function x(a,l,r,_){return function(f){if(f===0||f===1)return f;let p=f;for(let D=0;D<4;D++){const c=p,k=(1-c)**3*0+3*(1-c)**2*c*a+3*(1-c)*c**2*r+c**3*1,w=-3*(1-c)**2*0+3*(1-c)**2*a+6*(1-c)*c*(r-a)+3*c**2*(1-r);p=c-(k-f)/w}return(1-p)**3*0+3*(1-p)**2*p*l+3*(1-p)*p**2*_+p**3*1}}const K=x(.65,.05,.36,1);function C(a){z(a),g(!a);const l=a?t(e).getBoundingClientRect():t(A).getBoundingClientRect();U(M,l);const r=V();let _=performance.now(),f;o(e,t(e).style.position="fixed"),o(e,t(e).style.zIndex="2000"),o(e,t(e).style.width=a?`${l.width}px`:`${r.width}px`),o(e,t(e).style.height=a?`${l.height}px`:`${r.height}px`);function p(D){const c=D-_,k=Math.min(c/500,1),w=K(k),J=a?l:t(A).getBoundingClientRect();if(a){const F=u(J.top,r.top-r.height/2,w),ie=u(J.left,r.left-r.width/2,w),ae=u(l.width,r.width,w),ne=u(l.height,r.height,w);o(e,t(e).style.top=`${F}px`),o(e,t(e).style.left=`${ie}px`),o(e,t(e).style.width=`${ae}px`),o(e,t(e).style.height=`${ne}px`),o(e,t(e).style.transform="none")}else{const F=u(r.top-r.height/2,J.top,w),ie=u(r.left-r.width/2,J.left,w),ae=u(r.width,J.width,w),ne=u(r.height,J.height,w);o(e,t(e).style.top=`${F}px`),o(e,t(e).style.left=`${ie}px`),o(e,t(e).style.width=`${ae}px`),o(e,t(e).style.height=`${ne}px`),o(e,t(e).style.transform="none")}if(k<1)f=requestAnimationFrame(p);else if(i())n(!1);else{const F=t(A).getBoundingClientRect();o(e,t(e).style.position="fixed"),o(e,t(e).style.top=`${F.top}px`),o(e,t(e).style.left=`${F.left}px`),o(e,t(e).style.width=`${F.width}px`),o(e,t(e).style.height=`${F.height}px`),o(e,t(e).style.margin="0"),requestAnimationFrame(()=>{o(e,t(e).style.position="relative"),o(e,t(e).style.top="0"),o(e,t(e).style.left="0"),o(e,t(e).style.transform=""),o(e,t(e).style.margin=""),o(e,t(e).style.zIndex=""),o(e,t(e).style.width=""),o(e,t(e).style.height=""),n(!1)})}}return f=requestAnimationFrame(p),()=>{f&&cancelAnimationFrame(f)}}function u(a,l,r){return a*(1-r)+l*r}ue(()=>{const a=l=>{i()&&!n()&&l.target===document&&T()};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}});function T(){n()||!t(e)||(n(!0),i(!i()),C(i()))}function X(a){n()||!t(e)||i()===a||(n(!0),i(a),C(i()))}he(()=>{i()&&document.documentElement.classList.remove("no-scroll")}),fe();var j=Ae(),O=se(j);{var ee=a=>{var l=ze();R(()=>W(l,"fadeOut",!i()&&n())),q("click",l,P(()=>T())),q("wheel",l,be(function(r){$.call(this,d,r)})),m(a,l)};S(O,a=>{(i()||n())&&a(ee)})}var Q=I(O,2);{var te=a=>{var l=Me();ge(l,r=>U(A,r),()=>t(A)),R(()=>G(l,"style",`width: ${t(M)?.width??""}px; height: ${t(M)?.height??""}px;`)),m(a,l)};S(Q,a=>{(n()||i())&&a(te)})}var s=I(Q,2),v=b(s);Ee(v,d,"default",{get isExpanded(){return i()},get isAnimating(){return n()},get isMaximizing(){return z()},get isMinimizing(){return g()},toggleExpand:T,setExpanded:X}),h(s),ge(s,a=>U(e,a),()=>t(e)),R(()=>{we(s,`expand-container ${B()??""} svelte-ino8zy`),G(s,"aria-expanded",i()),W(s,"expanded",i()),W(s,"minimizing",!i()&&n()),W(s,"maximizing",i()&&n()),W(s,"animating",n())}),q("click",s,function(a){$.call(this,d,a)}),q("keydown",s,function(a){$.call(this,d,a)}),m(E,j),de()}var Ie=y('<button class="back-button svelte-a3k4g2" aria-label="Close expanded view"><i class="fa-solid fa-arrow-left svelte-a3k4g2"></i></button>'),Re=y('<span class="tag svelte-a3k4g2"> </span>'),qe=y('<div class="tags svelte-a3k4g2"></div>'),Be=y('<p class="summary svelte-a3k4g2"> </p>'),Ce=y('<a target="_blank" rel="noopener noreferrer" class="link svelte-a3k4g2"><i class="fa-solid fa-arrow-up-right-from-square svelte-a3k4g2"></i> </a>'),De=y('<a target="_blank" rel="noopener noreferrer" class="link svelte-a3k4g2"><i class="fa-solid fa-arrow-up-right-from-square svelte-a3k4g2"></i> Visit Website</a>'),Fe=y('<div class="links svelte-a3k4g2"><!></div>'),Le=y('<div role="button" tabindex="0" class="work-content svelte-a3k4g2"><!> <div class="image-container svelte-a3k4g2"><img class="svelte-a3k4g2"></div> <div class="content svelte-a3k4g2"><h3 class="svelte-a3k4g2"> </h3> <div class="description-wrapper svelte-a3k4g2"><p class="description svelte-a3k4g2"> </p></div> <!> <!> <!></div></div>');function Se(E,d){oe(d,!1);let i=H(d,"work",8),n=H(d,"expandState",8),z;ue(()=>{z=Z.subscribe(s=>{n().setExpanded(s===i().title)})}),he(()=>{z&&z()}),pe(()=>(ce(n()),ce(i())),()=>{n().isExpanded?Z.set(i().title):Z.set(null)}),me(),fe();var g=Le(),B=b(g);{var e=s=>{var v=Ie();R(()=>W(v,"fadeOut",!n().isExpanded&&n().isAnimating)),q("click",v,P(()=>n().toggleExpand())),m(s,v)};S(B,s=>{(n().isExpanded||n().isAnimating)&&s(e)})}var M=I(B,2),A=b(M);h(M);var V=I(M,2),x=b(V),K=b(x,!0);h(x);var C=I(x,2),u=b(C),T=b(u,!0);h(u),h(C);var X=I(C,2);{var j=s=>{var v=qe();re(v,5,()=>i().tags,le,(a,l)=>{var r=Re(),_=b(r,!0);h(r),R(()=>N(_,t(l))),m(a,r)}),h(v),m(s,v)};S(X,s=>{i().tags&&s(j)})}var O=I(X,2);{var ee=s=>{var v=Be(),a=b(v,!0);h(v),R(()=>N(a,i().summary)),q("wheel",v,P(function(l){$.call(this,d,l)})),m(s,v)};S(O,s=>{n().isExpanded&&i().summary&&s(ee)})}var Q=I(O,2);{var te=s=>{var v=Fe(),a=b(v);{var l=_=>{var f=ve(),p=se(f);re(p,1,()=>i().links,le,(D,c)=>{var k=Ce(),w=I(b(k));h(k),R(()=>{G(k,"href",t(c).href),N(w,` ${t(c).label??""}`)}),m(D,k)}),m(_,f)},r=_=>{var f=ve(),p=se(f);{var D=c=>{var k=De();R(()=>G(k,"href",i().link)),m(c,k)};S(p,c=>{i().link&&c(D)},!0)}m(_,f)};S(a,_=>{i().links?_(l):_(r,!1)})}h(v),m(s,v)};S(Q,s=>{n().isExpanded&&(i().link||i().links)&&s(te)})}h(V),h(g),R(()=>{G(g,"aria-expanded",n().isExpanded),W(g,"expanded",n().isExpanded),W(g,"minimizing",!n().isExpanded&&n().isAnimating),W(g,"maximizing",n().isExpanded&&n().isAnimating),W(g,"animating",n().isAnimating),G(A,"src",i().image),G(A,"alt",i().title),N(K,i().title),N(T,i().description)}),q("wheel",g,P(s=>{n().isExpanded&&s.stopPropagation()})),q("click",g,()=>{n().toggleExpand()}),q("keydown",g,s=>{n().toggleExpand()}),m(E,g),de()}var He=y('<div class="works-grid svelte-b613hu"></div>');function $e(E,d){oe(d,!1);const i=_e(),n=()=>ke(Z,"$expandedWorkId",i);let z=H(d,"works",8),g=Y(null);pe(()=>n(),()=>{U(g,n())}),me();var B=He();re(B,5,z,le,(e,M)=>{var A=L(()=>t(g)===t(M).title);We(e,{class_name:"work-card",get isExpanded(){return t(A)},children:ye,$$slots:{default:(V,x)=>{const K=L(()=>x.isExpanded),C=L(()=>x.isAnimating),u=L(()=>x.isMaximizing),T=L(()=>x.isMinimizing),X=L(()=>x.toggleExpand),j=L(()=>x.setExpanded);var O=L(()=>({isExpanded:t(K),isAnimating:t(C),isMaximizing:t(u),isMinimizing:t(T),toggleExpand:t(X),setExpanded:t(j)}));Se(V,{get work(){return t(M)},get expandState(){return t(O)}})}}})}),h(B),m(E,B),de()}export{$e as default};
