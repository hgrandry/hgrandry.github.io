import{i as V}from"./lifecycle.Dt1m5ZJi.js";import{p as K,z as ee,A as te,t as u,g as s,d as O,a as N,m as L,C as Q,B as se,c as a,r as e,s as m,D as ae,n as re,E as ie}from"./runtime.CJxWV0rf.js";import{e as G,s as k}from"./render.BIjV1M99.js";import{i as J,e as P,a as W,s as U}from"./attributes.CAEMiAjT.js";import{a as f,t as x}from"./template.BMaGmDQA.js";import{c as ne,t as S,o as ve}from"./index-client.BsdcetsV.js";import{b as Y}from"./this.C6gCiUzC.js";import{p as X,a as le,b as oe}from"./props.B4RdlnXk.js";/* empty css                       */import de from"./Parallax.B7_W5ERs.js";import{e as pe}from"./work.DeuoRA-D.js";import"./proxy.BMOTCA4l.js";import"./utils.CVykTFJJ.js";import"./index.DiBLy0j7.js";var ce=x('<span class="type svelte-1vy0mjl"> </span>'),me=x('<p class="location svelte-1vy0mjl"> </p>'),ue=x('<li class="svelte-1vy0mjl"> </li>'),fe=x('<span class="skill svelte-1vy0mjl"> </span>'),xe=x('<div class="experience svelte-1vy0mjl" tabindex="0" role="button"><div class="header svelte-1vy0mjl"><div class="title-section svelte-1vy0mjl"><h3 class="svelte-1vy0mjl"> </h3> <div class="company-info svelte-1vy0mjl"><p class="company svelte-1vy0mjl"> </p> <!></div></div> <div class="meta svelte-1vy0mjl"><p class="period svelte-1vy0mjl"> </p> <!></div></div> <div class="content svelte-1vy0mjl"><div class="inner-content svelte-1vy0mjl"><div class="responsibilities svelte-1vy0mjl"><ul class="svelte-1vy0mjl"></ul></div></div></div> <div class="skills svelte-1vy0mjl"></div></div>');function _e(z,E){K(E,!1);let l=X(E,"experience",8),A=X(E,"isExpanded",8,!1);const C=ne();let n=L();function $(){C("expand");const t=performance.now(),r=500;function i(F){const Z=F-t;C("heightChange"),Z<r&&requestAnimationFrame(i)}requestAnimationFrame(i)}ee(()=>(s(n),se(A())),()=>{s(n)&&setTimeout(()=>{Q(n,s(n).style.maxHeight=A()?`${s(n).scrollHeight}px`:"0")},0)}),te(),V();var v=xe(),p=a(v),j=a(p),w=a(j),B=a(w,!0);e(w);var T=m(w,2),_=a(T),H=a(_,!0);e(_);var o=m(_,2);{var M=t=>{var r=ce(),i=a(r,!0);e(r),u(()=>k(i,l().type)),f(t,r)};J(o,t=>{l().type&&t(M)})}e(T),e(j);var y=m(j,2),c=a(y),I=a(c);e(c);var R=m(c,2);{var D=t=>{var r=me(),i=a(r,!0);e(r),u(()=>k(i,l().location)),f(t,r)};J(R,t=>{l().location&&t(D)})}e(y),e(p);var g=m(p,2),q=a(g),h=a(q),d=a(h);P(d,5,()=>l().responsibilities,W,(t,r)=>{var i=ue(),F=a(i,!0);e(i),u(()=>k(F,s(r))),f(t,i)}),e(d),e(h),e(q),e(g),Y(g,t=>O(n,t),()=>s(n));var b=m(g,2);P(b,5,()=>l().skills,W,(t,r)=>{var i=fe(),F=a(i,!0);e(i),u(()=>k(F,s(r))),f(t,i)}),e(b),e(v),u(()=>{S(v,"expanded",A()),k(B,l().title),k(H,l().company),k(I,`${l().period.start??""} - ${l().period.end??""}`)}),G("click",v,$),G("keydown",v,t=>t.key==="Enter"&&$()),f(z,v),N()}var ye=x('<div class="marker svelte-1svufyx"><span class="date svelte-1svufyx"> </span> <div class="dot svelte-1svufyx"></div></div>'),ge=x('<div class="experience-wrapper svelte-1svufyx"><!></div>'),he=x('<div class="timeline svelte-1svufyx"><div class="line svelte-1svufyx"></div> <!></div> <div class="experience-list svelte-1svufyx"></div>',1),ke=x('<div class="experiences svelte-1svufyx"><div class="links svelte-1svufyx"><a href="https://drive.google.com/file/d/1ICIL-f8s4XvXaCnHamv-GuiVcvcJEUO-/view?usp=sharing" target="_blank" rel="noopener noreferrer" class="svelte-1svufyx">Resume</a> <span class="separator svelte-1svufyx">|</span> <a href="https://www.linkedin.com/in/hgrandry" target="_blank" rel="noopener noreferrer" class="svelte-1svufyx">LinkedIn</a></div> <!></div>');function Pe(z,E){K(E,!1);const l=le(),A=()=>oe(pe,"$expandedWorkId",l);let C=X(E,"experiences",8),n=L([]),$=L(null),v=L([]),p=!1;function j(){const o=p;p=window.innerWidth<=768,o&&!p&&w()}function w(){p||requestAnimationFrame(()=>{O(v,s(n).map(o=>o.getBoundingClientRect().top+45-s(n)[0].getBoundingClientRect().top))})}function B(){if(p)return;const o=performance.now(),M=500;function y(c){const I=c-o;w(),I<M&&requestAnimationFrame(y)}requestAnimationFrame(y)}function T(o){O($,s($)===o?null:o),B()}ve(()=>(j(),window.addEventListener("resize",j),w(),()=>{window.removeEventListener("resize",j)})),V();var _=ke(),H=m(a(_),2);de(H,{layer:"content",centerMode:"viewport-relative",viewportOffset:300,class_name:"experience-content",children:(o,M)=>{var y=he(),c=ae(y),I=a(c),R=m(I,2);P(R,1,C,W,(g,q,h)=>{var d=ye(),b=a(d),t=a(b,!0);u(()=>k(t,s(q).period.start.split("-")[0])),e(b),re(2),e(d),u(()=>U(d,"style",`top: ${s(v)[h]??""}px`)),f(g,d)}),e(c);var D=m(c,2);P(D,5,C,W,(g,q,h)=>{var d=ge(),b=a(d),t=ie(()=>s($)===h);_e(b,{get experience(){return s(q)},get isExpanded(){return s(t)},$$events:{expand:()=>T(h)}}),e(d),Y(d,(r,i)=>Q(n,s(n)[i]=r),r=>s(n)?.[r],()=>[h]),f(g,d)}),e(D),u(()=>U(I,"style",`top: ${s(v)[0]??""}px; height: ${s(v)[s(v).length-1]-s(v)[0]}px`)),f(o,y)},$$slots:{default:!0}}),e(_),u(()=>S(_,"fade-out",A()!==null)),f(z,_),N()}export{Pe as default};
